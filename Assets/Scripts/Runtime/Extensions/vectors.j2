{%- macro comma(loop) -%}
    {{- "," if not loop.last else "" -}}
{%- endmacro -%}

{%- macro comman(loop) -%}
    {{- ",\n" if not loop.last else "" -}}
{%- endmacro -%}

{%- macro commas(loop) -%}
    {{- ", " if not loop.last else "" -}}
{%- endmacro -%}

// Generated via {{generated_via}}
//
// From YouTube by git-amend. Easy and Powerful Extension Methods | Unity C#.
// https://youtu.be/Nk49EUf7yyU

using UnityEngine;

namespace BFG.Runtime.Extensions {
public static class {{classname}}Extensions {
    public static {{classname}} With(
        this {{classname}} vector,
{%- for coord in coords %}
        {{vartype}}? {{coord}} = null
        {{- comma(loop) -}}
{%- endfor %}
    ) {
        return new(
{%- for coord in coords %}
            {{coord}} ?? vector.{{coord}}
            {{- comma(loop) -}}
{%- endfor %}
        );
    }

    public static {{classname}} Add(
        this {{classname}} vector,
{%- for coord in coords %}
        {{vartype}}? {{coord}} = null
        {{- comma(loop) -}}
{%- endfor %}
    ) {
        return new(
{%- for coord in coords %}
            vector.{{coord}} + ({{coord}} ?? 0)
            {{- comma(loop) -}}
{%- endfor %}
        );
    }
}
}
